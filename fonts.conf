<?xml version='1.0'?>
<!DOCTYPE fontconfig SYSTEM 'fonts.dtd'>
<fontconfig>

 <!-- 将我们偏好的字体映射到网页上 -->
 <match target="pattern">
  <test name="family" qual="any">
   <string>Arial</string>
  </test>
  <edit binding="same" mode="assign" name="family">
   <string>sans-serif</string>
  </edit>
 </match>
 <match target="pattern">
  <test name="family" qual="any">
   <string>Liberation Sans</string>
  </test>
  <edit binding="same" mode="assign" name="family">
   <string>sans-serif</string>
  </edit>
 </match>
 <match target="pattern">
  <test name="family" qual="any">
   <string>Liberation Mono</string>
  </test>
  <edit binding="same" mode="assign" name="family">
   <string>monospace</string>
  </edit>
 </match>

 <!-- zh_cn 默认字体 -->
 <match>
  <test compare="contains" name="lang">
   <string>zh_CN</string>
  </test>
  <edit mode="prepend" name="family">
   <string>PingFang SC</string>
  </edit>
 </match>

 <!-- 默认的无衬线字体 -->
 <match target="pattern">
  <test name="family" qual="any">
   <string>sans-serif</string>
  </test>
  <edit binding="same" mode="prepend" name="family">
   <string>Inter</string>
  </edit>
 </match>

 <!-- system-ui 使用我们定义的无衬线字体，必须，否则部分插件会出现豆腐块 -->
 <match target="pattern">
  <test name="family">
   <string>system-ui</string>
  </test>
  <edit binding="strong" mode="prepend" name="family">
   <string>sans-serif</string>
  </edit>
 </match>

 <!-- Map BlinkMacSystemFont (常见于网页识别到apple color emoji的字体栈) 到我们偏好的字体 -->
 <match target="pattern">
  <test name="family">
   <string>BlinkMacSystemFont</string>
  </test>
  <edit binding="strong" mode="prepend" name="family">
   <string>Inter</string>
   <string>PingFang SC</string>
   <string>Apple Color Emoji</string>
  </edit>
 </match>

 <!-- 默认衬线字体 -->
 <match target="pattern">
  <test name="family" qual="any">
   <string>serif</string>
  </test>
  <edit binding="same" mode="prepend" name="family">
   <string>Noto Serif</string>
  </edit>
 </match>

 <!-- 默认等宽字体 -->
 <match target="pattern">
  <test name="family" qual="any">
   <string>monospace</string>
  </test>
  <edit binding="same" mode="prepend" name="family">
   <string>Maple Mono CN</string>
  </edit>
 </match>

 <!-- 偏好字体的字体排序 -->
 <alias>
  <family>sans-serif</family>
  <prefer>
   <family>Inter</family>
   <family>PingFang SC</family>
   <family>Apple Color Emoji</family>
  </prefer>
 </alias>
 <alias>
  <family>serif</family>
  <prefer>
   <family>Noto Serif</family>
   <family>Noto Serif CJK SC</family>
   <family>Apple Color Emoji</family>
  </prefer>
 </alias>
 <alias>
  <family>monospace</family>
  <prefer>
   <family>Maple Mono CN</family>
   <family>Symbols Nerd Font Mono</family>
  </prefer>
 </alias>
 <selectfont>
  <rejectfont>
   <pattern>
    <patelt name="family">
     <!-- This font is causing problem with GitHub -->
     <string>Nimbus Sans</string>
    </patelt>
   </pattern>
  </rejectfont>
 </selectfont>

<!-- 渲染设置，一般适用于4k之下的显示屏 -->
 <match target="font">
  <edit mode="assign" name="hinting">
   <bool>true</bool>
  </edit>
 </match>
 <match target="font">
  <edit mode="assign" name="hintstyle">
   <const>hintslight</const>
  </edit>
 </match>
 <match target="font">
  <edit mode="assign" name="rgba">
   <const>rgb</const>
  </edit>
 </match>
 <match target="font">
  <edit mode="assign" name="antialias">
   <bool>true</bool>
  </edit>
 </match>

 <dir>~/.local/share/fonts</dir>
</fontconfig>
